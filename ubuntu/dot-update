#!/bin/zsh

source "$HOME/.dotfiles/bin/lib/dot-util" "$0" "$@"

[[ "$SHELL" = "/bin/zsh" ]] || chsh -s /bin/zsh

[[ ! -a  $HOME/.local/bin/aptfile ]] && {
	echo "Installing aptfile"

	mkdir -p $HOME/.local/bin

  curl -o $HOME/.local/bin/aptfile https://raw.githubusercontent.com/seatgeek/bash-aptfile/master/bin/aptfile

	chmod +x $HOME/.local/bin/aptfile
}

# TODO switch over to skhdrc
# echo "Linking skhd config"
# ln -sf $profilePath/.skhdrc $HOME/.skhdrc

echo "Expanding file limits"

ulimit -Sn unlimited
ulimit -Sl unlimited

echo "Purgeing unwanted default apt packages"

apt-autopurge totem thunderbird


for file in $ubuntuPath/dot-update.d/*(.); source $file