set $mode_layout "<span foreground='#000' weight='bold'>Layout</span>  <b>D</b>efault <b>S</b>tacking <b>T</b>abbed"
mode --pango_markup $mode_layout {
  bindsym s layout stacking, mode default
  bindsym t layout tabbed, mode default
  bindsym d layout default, mode default

  bindsym Return mode default
  bindsym Escape mode default
}

set $mode_system "<span foreground='#000' weight='bold'>System</span>  <b>L</b>ock <b>E</b>xit <b>R</b>eboot <b>S</b>hutdown"
mode --pango_markup $mode_system {
  bindsym e exec sudo /home/chase/.scripts/system logout
  bindsym s exec sudo /home/chase/.scripts/system shutdown
  bindsym r exec sudo /home/chase/.scripts/system reboot
  bindsym $mod+r exec sudo /home/chase/.scripts/system update_and_reboot
  bindsym l mode default, exec /home/chase/.scripts/system lock

  bindsym Return mode default
  bindsym Escape mode default
}

set $bindsym "bindsym \$mod+"
set $mode_keybindings "<span foreground='#000' weight='bold'>Keybindings</span>  <b>P</b>ermanent <b>T</b>emporary"
mode --pango_markup $mode_keybindings {
  bindsym p exec notify-send "warning" "Permanent keybindings have yet to be implemented"
  bindsym t exec i3-input -F 'exec echo "\n\n$bindsym%s" >> ~/.i3/config' -P $bindsym && i3-msg reload

  bindsym Return mode default
  bindsym Escape mode default
}

set $mode_gpmdp "<span foreground='#000' weight='bold'>GPMDP</span>  <b>I</b>nit <b>S</b>tart"
mode --pango_markup $mode_gpmdp {
  bindsym i [class="Google Play Music Desktop Player"] focus, exec i3-input -l 4 -F 'exec curl localhost:60061/init/%s' -P 'GPMDP key: ', mode default
  bindsym s exec ~/.scripts/gpmdp.js, mode default

  bindsym Return mode default
  bindsym Escape mode default
}

set $mode_wallpaper_get "<span foreground='#000' weight='bold'>Get Wallpaper</span>  <b>R</b>andom <b>L</b>ist <b>S</b>pecific"
mode --pango_markup $mode_wallpaper_get {
  bindsym r exec ~/.scripts/wallpaper get, mode $mode_wallpaper_main
  bindsym l exec ~/.scripts/wallpaper get 3 list, mode $mode_wallpaper_main
  bindsym s exec i3-input -F 'exec ~/.scripts/wallpaper get "%s"' -P 'NUM SUBREDDIT: ', mode $mode_wallpaper_main

  bindsym Return mode default
  bindsym Escape mode default
}

set $mode_wallpaper_main "<span foreground='#000' weight='bold'>Wallpaper</span>  <b>G</b>et <b>B</b>rowse <b>R</b>andom <b>T</b>oday <b>U</b>nsorted <b>S</b>ave <b>D</b>elete (Shift)<b>S</b>tash"
mode --pango_markup $mode_wallpaper_main {
  bindsym g mode $mode_wallpaper_get
  bindsym b mode default, exec ~/.scripts/wallpaper set list
  bindsym r exec ~/.scripts/wallpaper set
  bindsym t exec ~/.scripts/wallpaper set today
  bindsym u exec ~/.scripts/wallpaper set unsorted
  bindsym s exec ~/.scripts/wallpaper save
  bindsym Shift+s exec ~/.scripts/wallpaper delete stash
  bindsym Control+s exec i3-input -F 'exec ~/.scripts/wallpaper save "%s"' -P 'Subfolder: (default:saved)'
  bindsym d exec ~/.scripts/wallpaper delete

  bindsym Return mode default
  bindsym Escape mode default
}

set $mode_menu "<span foreground='#000' weight='bold'>Modes</span>  <b>S</b>ystem <b>W</b>allpaper <b>G</b>PMDP <b>K</b>eybindings <b>l</b>ayout"
mode --pango_markup $mode_menu {
  bindsym s mode $mode_system
  bindsym w mode $mode_wallpaper_main
  bindsym g mode $mode_gpmdp
  bindsym k mode $mode_keybindings
  bindsym l mode $mode_layout

  bindsym Return mode default
  bindsym Escape mode default
}

bindsym XF86PowerOff   mode $mode_system
bindsym $mod+m         mode $mode_menu